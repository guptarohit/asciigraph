package asciigraph

import (
	"fmt"
	"math"
	"strings"
	"testing"
)

func TestPlot(t *testing.T) {
	cases := []struct {
		data     []float64
		opts     []Option
		expected string
	}{
		{
			[]float64{1, 1, 1, 1, 1},
			nil,
			` 1.00 â”¼â”€â”€â”€â”€`},
		{
			[]float64{0, 0, 0, 0, 0},
			nil,
			` 0.00 â”¼â”€â”€â”€â”€`},
		{
			[]float64{2, 1, 1, 2, -2, 5, 7, 11, 3, 7, 1},
			nil,
			`
 11.00 â”¤      â•­â•®
 10.00 â”¤      â”‚â”‚
  9.00 â”¤      â”‚â”‚
  8.00 â”¤      â”‚â”‚
  7.00 â”¤     â•­â•¯â”‚â•­â•®
  6.00 â”¤     â”‚ â”‚â”‚â”‚
  5.00 â”¤    â•­â•¯ â”‚â”‚â”‚
  4.00 â”¤    â”‚  â”‚â”‚â”‚
  3.00 â”¤    â”‚  â•°â•¯â”‚
  2.00 â”¼â•® â•­â•®â”‚    â”‚
  1.00 â”¤â•°â”€â•¯â”‚â”‚    â•°
  0.00 â”¤   â”‚â”‚
 -1.00 â”¤   â”‚â”‚
 -2.00 â”¤   â•°â•¯`},
		{
			[]float64{2, 1, 1, 2, -2, 5, 7, 11, 3, 7, 4, 5, 6, 9, 4, 0, 6, 1, 5, 3, 6, 2},
			[]Option{Caption("Plot using asciigraph.")},
			`
 11.00 â”¤      â•­â•®
 10.00 â”¤      â”‚â”‚
  9.00 â”¤      â”‚â”‚    â•­â•®
  8.00 â”¤      â”‚â”‚    â”‚â”‚
  7.00 â”¤     â•­â•¯â”‚â•­â•®  â”‚â”‚
  6.00 â”¤     â”‚ â”‚â”‚â”‚ â•­â•¯â”‚ â•­â•®  â•­â•®
  5.00 â”¤    â•­â•¯ â”‚â”‚â”‚â•­â•¯ â”‚ â”‚â”‚â•­â•®â”‚â”‚
  4.00 â”¤    â”‚  â”‚â”‚â•°â•¯  â•°â•®â”‚â”‚â”‚â”‚â”‚â”‚
  3.00 â”¤    â”‚  â•°â•¯     â”‚â”‚â”‚â”‚â•°â•¯â”‚
  2.00 â”¼â•® â•­â•®â”‚         â”‚â”‚â”‚â”‚  â•°
  1.00 â”¤â•°â”€â•¯â”‚â”‚         â”‚â”‚â•°â•¯
  0.00 â”¤   â”‚â”‚         â•°â•¯
 -1.00 â”¤   â”‚â”‚
 -2.00 â”¤   â•°â•¯
        Plot using asciigraph.`},
		{
			[]float64{.2, .1, .2, 2, -.9, .7, .91, .3, .7, .4, .5},
			[]Option{Caption("Plot using asciigraph.")},
			`
  2.00 â”¤  â•­â•® â•­â•®
  0.55 â”¼â”€â”€â•¯â”‚â•­â•¯â•°â”€â”€â”€
 -0.90 â”¤   â•°â•¯
        Plot using asciigraph.`},
		{
			[]float64{2, 1, 1, 2, -2, 5, 7, 11, 3, 7, 1},
			[]Option{Height(4), Offset(3)},
			`
 11.00 â”¤      â•­â•®
  7.75 â”¤    â•­â”€â•¯â”‚â•­â•®
  4.50 â”¼â•® â•­â•®â”‚  â•°â•¯â”‚
  1.25 â”¤â•°â”€â•¯â”‚â”‚    â•°
 -2.00 â”¤   â•°â•¯`},
		{
			[]float64{.453, .141, .951, .251, .223, .581, .771, .191, .393, .617, .478},
			nil,
			`
 0.95 â”¤ â•­â•®
 0.85 â”¤ â”‚â”‚  â•­â•®
 0.75 â”¤ â”‚â”‚  â”‚â”‚
 0.65 â”¤ â”‚â”‚ â•­â•¯â”‚ â•­â•®
 0.55 â”¤ â”‚â”‚ â”‚ â”‚ â”‚â•°
 0.44 â”¼â•®â”‚â”‚ â”‚ â”‚â•­â•¯
 0.34 â”¤â”‚â”‚â”‚ â”‚ â”‚â”‚
 0.24 â”¤â”‚â”‚â•°â”€â•¯ â•°â•¯
 0.14 â”¤â•°â•¯`},

		{
			[]float64{.01, .004, .003, .0042, .0083, .0033, 0.0079},
			nil,
			`
 0.010 â”¼â•®
 0.009 â”¤â”‚
 0.008 â”¤â”‚  â•­â•®â•­
 0.007 â”¤â”‚  â”‚â”‚â”‚
 0.006 â”¤â”‚  â”‚â”‚â”‚
 0.005 â”¤â”‚  â”‚â”‚â”‚
 0.004 â”¤â•°â•®â•­â•¯â”‚â”‚
 0.003 â”¤ â•°â•¯ â•°â•¯`},

		{
			[]float64{192, 431, 112, 449, -122, 375, 782, 123, 911, 1711, 172},
			[]Option{Height(10)},
			`
 1711 â”¤        â•­â•®
 1528 â”¤        â”‚â”‚
 1344 â”¤        â”‚â”‚
 1161 â”¤        â”‚â”‚
  978 â”¤       â•­â•¯â”‚
  794 â”¤     â•­â•®â”‚ â”‚
  611 â”¤     â”‚â”‚â”‚ â”‚
  428 â”¤â•­â•®â•­â•®â•­â•¯â”‚â”‚ â”‚
  245 â”¼â•¯â•°â•¯â”‚â”‚ â•°â•¯ â•°
   61 â”¤   â”‚â”‚
 -122 â”¤   â•°â•¯`},
		{
			[]float64{0.3189989805, 0.149949026, 0.30142492354, 0.195129182935, 0.3142492354, 0.1674974513, 0.3142492354, 0.1474974513, 0.3047974513},
			[]Option{Width(30), Height(5), Caption("Plot with custom height & width.")},
			`
 0.32 â”¼â•®            â•­â”€â•®     â•­â•®     â•­
 0.29 â”¤â•°â•®    â•­â”€â•®   â•­â•¯ â”‚    â•­â•¯â”‚     â”‚
 0.26 â”¤ â”‚   â•­â•¯ â•°â•® â•­â•¯  â•°â•®  â•­â•¯ â•°â•®   â•­â•¯
 0.23 â”¤ â•°â•® â•­â•¯   â•°â•®â”‚    â•°â•®â•­â•¯   â•°â•® â•­â•¯
 0.20 â”¤  â•°â•®â”‚     â•°â•¯     â•°â•¯     â”‚â•­â•¯
 0.16 â”¤   â•°â•¯                   â•°â•¯
       Plot with custom height & width.`},
		{
			[]float64{
				0, 0, 0, 0, 1.5, 0, 0, -0.5, 9, -3, 0, 0, 1, 2, 1, 0, 0, 0, 0,
				0, 0, 0, 0, 1.5, 0, 0, -0.5, 8, -3, 0, 0, 1, 2, 1, 0, 0, 0, 0,
				0, 0, 0, 0, 1.5, 0, 0, -0.5, 10, -3, 0, 0, 1, 2, 1, 0, 0, 0, 0,
			},
			[]Option{Offset(10), Height(10), Caption("I'm a doctor, not an engineer.")},
			`
     10.00    â”¤                                             â•­â•®
      8.70    â”¤       â•­â•®                                    â”‚â”‚
      7.40    â”¤       â”‚â”‚                 â•­â•®                 â”‚â”‚
      6.10    â”¤       â”‚â”‚                 â”‚â”‚                 â”‚â”‚
      4.80    â”¤       â”‚â”‚                 â”‚â”‚                 â”‚â”‚
      3.50    â”¤       â”‚â”‚                 â”‚â”‚                 â”‚â”‚
      2.20    â”¤       â”‚â”‚   â•­â•®            â”‚â”‚   â•­â•®            â”‚â”‚   â•­â•®
      0.90    â”¤   â•­â•®  â”‚â”‚  â•­â•¯â•°â•®       â•­â•®  â”‚â”‚  â•­â•¯â•°â•®       â•­â•®  â”‚â”‚  â•­â•¯â•°â•®
     -0.40    â”¼â”€â”€â”€â•¯â•°â”€â”€â•¯â”‚â•­â”€â•¯  â•°â”€â”€â”€â”€â”€â”€â”€â•¯â•°â”€â”€â•¯â”‚â•­â”€â•¯  â•°â”€â”€â”€â”€â”€â”€â”€â•¯â•°â”€â”€â•¯â”‚â•­â”€â•¯  â•°â”€â”€â”€
     -1.70    â”¤        â”‚â”‚                 â”‚â”‚                 â”‚â”‚
     -3.00    â”¤        â•°â•¯                 â•°â•¯                 â•°â•¯
                            I'm a doctor, not an engineer.`},
		{
			[]float64{-5, -2, -3, -4, 0, -5, -6, -7, -8, 0, -9, -3, -5, -2, -9, -3, -1},
			nil,
			`
  0.00 â”¤   â•­â•®   â•­â•®
 -1.00 â”¤   â”‚â”‚   â”‚â”‚     â•­
 -2.00 â”¤â•­â•® â”‚â”‚   â”‚â”‚  â•­â•® â”‚
 -3.00 â”¤â”‚â•°â•®â”‚â”‚   â”‚â”‚â•­â•®â”‚â”‚â•­â•¯
 -4.00 â”¤â”‚ â•°â•¯â”‚   â”‚â”‚â”‚â”‚â”‚â”‚â”‚
 -5.00 â”¼â•¯   â•°â•®  â”‚â”‚â”‚â•°â•¯â”‚â”‚
 -6.00 â”¤     â•°â•® â”‚â”‚â”‚  â”‚â”‚
 -7.00 â”¤      â•°â•®â”‚â”‚â”‚  â”‚â”‚
 -8.00 â”¤       â•°â•¯â”‚â”‚  â”‚â”‚
 -9.00 â”¤         â•°â•¯  â•°â•¯`},
		{
			[]float64{-0.000018527, -0.021, -.00123, .00000021312, -.0434321234, -.032413241234, .0000234234},
			[]Option{Height(5), Width(45)},
			`
  0.000 â”¼â”€â•®           â•­â”€â”€â”€â”€â”€â”€â”€â”€â•®                    â•­
 -0.008 â”¤ â•°â”€â”€â•®     â•­â”€â”€â•¯        â•°â”€â•®                â•­â”€â•¯
 -0.017 â”¤    â•°â”€â”€â”€â”€â”€â•¯             â•°â•®             â•­â”€â•¯
 -0.025 â”¤                         â•°â”€â•®         â•­â”€â•¯
 -0.034 â”¤                           â•°â•®   â•­â”€â”€â”€â”€â•¯
 -0.042 â”¤                            â•°â”€â”€â”€â•¯`},
		{
			[]float64{57.76, 54.04, 56.31, 57.02, 59.5, 52.63, 52.97, 56.44, 56.75, 52.96, 55.54, 55.09, 58.22, 56.85, 60.61, 59.62, 59.73, 59.93, 56.3, 54.69, 55.32, 54.03, 50.98, 50.48, 54.55, 47.49, 55.3, 46.74, 46, 45.8, 49.6, 48.83, 47.64, 46.61, 54.72, 42.77, 50.3, 42.79, 41.84, 44.19, 43.36, 45.62, 45.09, 44.95, 50.36, 47.21, 47.77, 52.04, 47.46, 44.19, 47.22, 45.55, 40.65, 39.64, 37.26, 40.71, 42.15, 36.45, 39.14, 36.62},
			[]Option{Width(-10), Height(-10), Offset(-1)},
			`
 60.61 â”¤             â•­â•® â•­â•®
 59.60 â”¤   â•­â•®        â”‚â•°â”€â•¯â”‚
 58.60 â”¤   â”‚â”‚      â•­â•®â”‚   â”‚
 57.59 â”¼â•® â•­â•¯â”‚      â”‚â”‚â”‚   â”‚
 56.58 â”¤â”‚â•­â•¯ â”‚ â•­â”€â•®  â”‚â•°â•¯   â•°â•®
 55.58 â”¤â”‚â”‚  â”‚ â”‚ â”‚â•­â”€â•¯      â”‚â•­â•®    â•­â•®
 54.57 â”¤â•°â•¯  â”‚ â”‚ â”‚â”‚        â•°â•¯â•°â•® â•­â•®â”‚â”‚      â•­â•®
 53.56 â”¤    â”‚â•­â•¯ â•°â•¯           â”‚ â”‚â”‚â”‚â”‚      â”‚â”‚
 52.56 â”¤    â•°â•¯               â”‚ â”‚â”‚â”‚â”‚      â”‚â”‚           â•­â•®
 51.55 â”¤                     â•°â•®â”‚â”‚â”‚â”‚      â”‚â”‚           â”‚â”‚
 50.54 â”¤                      â•°â•¯â”‚â”‚â”‚      â”‚â”‚â•­â•®      â•­â•® â”‚â”‚
 49.54 â”¤                        â”‚â”‚â”‚  â•­â”€â•® â”‚â”‚â”‚â”‚      â”‚â”‚ â”‚â”‚
 48.53 â”¤                        â”‚â”‚â”‚  â”‚ â”‚ â”‚â”‚â”‚â”‚      â”‚â”‚ â”‚â”‚
 47.52 â”¤                        â•°â•¯â”‚  â”‚ â•°â•®â”‚â”‚â”‚â”‚      â”‚â•°â”€â•¯â•°â•®â•­â•®
 46.52 â”¤                          â•°â”€â•®â”‚  â•°â•¯â”‚â”‚â”‚      â”‚    â”‚â”‚â”‚
 45.51 â”¤                            â•°â•¯    â”‚â”‚â”‚   â•­â”€â”€â•¯    â”‚â”‚â•°â•®
 44.50 â”¤                                  â”‚â”‚â”‚ â•­â•®â”‚       â•°â•¯ â”‚
 43.50 â”¤                                  â”‚â”‚â•°â•®â”‚â•°â•¯          â”‚
 42.49 â”¤                                  â•°â•¯ â•°â•¯            â”‚   â•­â•®
 41.48 â”¤                                                   â”‚   â”‚â”‚
 40.48 â”¤                                                   â•°â•® â•­â•¯â”‚
 39.47 â”¤                                                    â•°â•®â”‚ â”‚â•­â•®
 38.46 â”¤                                                     â”‚â”‚ â”‚â”‚â”‚
 37.46 â”¤                                                     â•°â•¯ â”‚â”‚â”‚
 36.45 â”¤                                                        â•°â•¯â•°`},
		{
			[]float64{2, 1, 1, 2, -2, 5, 7, 11, 3, 7, 4, 5, 6, 9, 4, 0, 6, 1, 5, 3, 6, 2},
			[]Option{LowerBound(-3), UpperBound(13)},
			` 13.00 â”¤
 12.00 â”¤
 11.00 â”¤      â•­â•®
 10.00 â”¤      â”‚â”‚
  9.00 â”¤      â”‚â”‚    â•­â•®
  8.00 â”¤      â”‚â”‚    â”‚â”‚
  7.00 â”¤     â•­â•¯â”‚â•­â•®  â”‚â”‚
  6.00 â”¤     â”‚ â”‚â”‚â”‚ â•­â•¯â”‚ â•­â•®  â•­â•®
  5.00 â”¤    â•­â•¯ â”‚â”‚â”‚â•­â•¯ â”‚ â”‚â”‚â•­â•®â”‚â”‚
  4.00 â”¤    â”‚  â”‚â”‚â•°â•¯  â•°â•®â”‚â”‚â”‚â”‚â”‚â”‚
  3.00 â”¤    â”‚  â•°â•¯     â”‚â”‚â”‚â”‚â•°â•¯â”‚
  2.00 â”¼â•® â•­â•®â”‚         â”‚â”‚â”‚â”‚  â•°
  1.00 â”¤â•°â”€â•¯â”‚â”‚         â”‚â”‚â•°â•¯
  0.00 â”¤   â”‚â”‚         â•°â•¯
 -1.00 â”¤   â”‚â”‚
 -2.00 â”¤   â•°â•¯
 -3.00 â”¤`},
		{
			[]float64{2, 1, 1, 2, -2, 5, 7, 11, 3, 7, 4, 5, 6, 9, 4, 0, 6, 1, 5, 3, 6, 2},
			[]Option{LowerBound(0), UpperBound(3)},
			` 11.00 â”¤      â•­â•®
 10.00 â”¤      â”‚â”‚
  9.00 â”¤      â”‚â”‚    â•­â•®
  8.00 â”¤      â”‚â”‚    â”‚â”‚
  7.00 â”¤     â•­â•¯â”‚â•­â•®  â”‚â”‚
  6.00 â”¤     â”‚ â”‚â”‚â”‚ â•­â•¯â”‚ â•­â•®  â•­â•®
  5.00 â”¤    â•­â•¯ â”‚â”‚â”‚â•­â•¯ â”‚ â”‚â”‚â•­â•®â”‚â”‚
  4.00 â”¤    â”‚  â”‚â”‚â•°â•¯  â•°â•®â”‚â”‚â”‚â”‚â”‚â”‚
  3.00 â”¤    â”‚  â•°â•¯     â”‚â”‚â”‚â”‚â•°â•¯â”‚
  2.00 â”¼â•® â•­â•®â”‚         â”‚â”‚â”‚â”‚  â•°
  1.00 â”¤â•°â”€â•¯â”‚â”‚         â”‚â”‚â•°â•¯
  0.00 â”¤   â”‚â”‚         â•°â•¯
 -1.00 â”¤   â”‚â”‚
 -2.00 â”¤   â•°â•¯`},

		{
			[]float64{1, 1, math.NaN(), 1, 1},
			nil,
			` 1.00 â”¼â”€â•´â•¶â”€`},
		{
			[]float64{math.NaN(), 1},
			nil,
			` 1.00 â”¤â•¶`},
		{
			[]float64{0, 0, 1, 1, math.NaN(), math.NaN(), 3, 3, 4},
			nil,
			`
 4.00 â”¤       â•­
 3.00 â”¤     â•¶â”€â•¯
 2.00 â”¤
 1.00 â”¤ â•­â”€â•´
 0.00 â”¼â”€â•¯`},
		{
			[]float64{.1, .2, .3, math.NaN(), .5, .6, .7, math.NaN(), math.NaN(), .9, 1},
			nil,
			`
 1.00 â”¤         â•­
 0.90 â”¤        â•¶â•¯
 0.80 â”¤
 0.70 â”¤     â•­â•´
 0.60 â”¤    â•­â•¯
 0.50 â”¤   â•¶â•¯
 0.40 â”¤
 0.30 â”¤ â•­â•´
 0.20 â”¤â•­â•¯
 0.10 â”¼â•¯`},
		{
			[]float64{-0.000018527, -0.021, -.00123, .00000021312, -.0434321234, -.032413241234, .0000234234},
			[]Option{Height(5), Width(45), Precision(5)},
			`
  0.000023 â”¼â”€â•®           â•­â”€â”€â”€â”€â”€â”€â”€â”€â•®                    â•­
 -0.008467 â”¤ â•°â”€â”€â•®     â•­â”€â”€â•¯        â•°â”€â•®                â•­â”€â•¯
 -0.016958 â”¤    â•°â”€â”€â”€â”€â”€â•¯             â•°â•®             â•­â”€â•¯
 -0.025449 â”¤                         â•°â”€â•®         â•­â”€â•¯
 -0.033940 â”¤                           â•°â•®   â•­â”€â”€â”€â”€â•¯
 -0.042430 â”¤                            â•°â”€â”€â”€â•¯`},

		{
			[]float64{math.NaN(), 1},
			[]Option{Caption("color test"), CaptionColor(Red), AxisColor(Green), LabelColor(Blue)},
			`
\x1b[94m 1.00\x1b[0m \x1b[32mâ”¤\x1b[0mâ•¶
       \x1b[91mcolor test\x1b[0m`},
		{
			[]float64{.02, .03, .02},
			nil,
			`
 0.030 â”¤â•­â•®
 0.020 â”¼â•¯â•°`},
		{
			[]float64{.2, .3, .1, .3},
			nil,
			`
 0.30 â”¤â•­â•®â•­
 0.20 â”¼â•¯â”‚â”‚
 0.10 â”¤ â•°â•¯`},
	}

	for i := range cases {
		name := fmt.Sprintf("%d", i)
		t.Run(name, func(t *testing.T) {
			c := cases[i]
			expected := strings.Replace(strings.TrimPrefix(c.expected, "\n"), `\x1b`, "\x1b", -1)
			actual := Plot(c.data, c.opts...)
			if actual != expected {
				conf := configure(config{}, c.opts)
				t.Errorf("Plot(%f, %#v)", c.data, conf)
				t.Logf("expected:\n%s\n", expected)
			}
			t.Logf("actual:\n%s\n", actual)
		})
	}
}

func TestPlotMany(t *testing.T) {
	cases := []struct {
		data     [][]float64
		opts     []Option
		expected string
	}{
		{
			[][]float64{{0}, {1}, {2}},
			nil,
			`
 2.00 â”¼
 1.00 â”¼
 0.00 â”¼`},
		{
			[][]float64{{0, 0, 2, 2, math.NaN()}, {1, 1, 1, 1, 1, 1, 1}, {math.NaN(), math.NaN(), math.NaN(), 0, 0, 2, 2}},
			nil,
			`
 2.00 â”¤ â•­â”€â•´â•­â”€
 1.00 â”¼â”€â”€â”€â”€â”‚â”€
 0.00 â”¼â”€â•¯â•¶â”€â•¯`},
		{
			[][]float64{{0, 0, 0}, {math.NaN(), 0, 0}, {math.NaN(), math.NaN(), 0}},
			nil,
			` 0.00 â”¼â•¶â•¶`},
		{
			[][]float64{{0, 1, 0}, {2, 3, 4, 3, 2}, {4, 5, 6, 7, 6, 5, 4}},
			[]Option{Width(21), Caption("interpolation test")},
			`
 7.00 â”¤        â•­â”€â”€â•®
 6.00 â”¤    â•­â”€â”€â”€â•¯  â•°â”€â”€â”€â•®
 5.00 â”¤ â•­â”€â”€â•¯          â•°â”€â”€â•®
 4.00 â”¼â”€â•¯  â•­â”€â”€â”€â•®         â•°â”€
 3.00 â”¤ â•­â”€â”€â•¯   â•°â”€â”€â•®
 2.00 â”¼â”€â•¯         â•°â”€â•´
 1.00 â”¤ â•­â”€â”€â”€â•®
 0.00 â”¼â”€â•¯   â•°â•´
        interpolation test`},

		{
			[][]float64{{0, 0}, {math.NaN(), 0}},
			[]Option{SeriesColors(Red)},
			" 0.00 â”¼â•¶"},
		{
			[][]float64{{0, 0}, {math.NaN(), 0}},
			[]Option{SeriesColors(Default, Red)},
			" 0.00 â”¼\x1b[91mâ•¶\x1b[0m"},
		{
			[][]float64{{math.NaN(), 0, 2}, {0, 2}},
			[]Option{SeriesColors(Red, Red)},
			`
 2.00 â”¤\x1b[91mâ•­â•­\x1b[0m
 1.00 â”¤\x1b[91mâ”‚â”‚\x1b[0m
 0.00 â”¼\x1b[91mâ•¯â•¯\x1b[0m`},
		{
			[][]float64{{0, 1, 0}, {2, 3, 4, 3, 2}},
			[]Option{SeriesColors(Red, Blue), SeriesLegends("Red", "Blue"),
				Caption("legends with caption test")},
			`
 4.00 â”¤ [94mâ•­â•®[0m
 3.00 â”¤[94mâ•­â•¯â•°â•®[0m
 2.00 â”¼[94mâ•¯[0m  [94mâ•°[0m
 1.00 â”¤[91mâ•­â•®[0m
 0.00 â”¼[91mâ•¯â•°[0m
       legends with caption test

       [91mâ– [0m Red   [94mâ– [0m Blue`},
	}

	for i := range cases {
		name := fmt.Sprintf("%d", i)
		t.Run(name, func(t *testing.T) {
			c := cases[i]
			expected := strings.Replace(strings.TrimPrefix(c.expected, "\n"), `\x1b`, "\x1b", -1)
			actual := PlotMany(c.data, c.opts...)
			if actual != expected {
				conf := configure(config{}, c.opts)
				t.Errorf("Plot(%f, %#v)", c.data, conf)
				t.Logf("expected:\n%s\n", expected)
			}
			t.Logf("actual:\n%s\n", actual)
		})
	}
}

func BenchmarkPlot(b *testing.B) {
	data := []float64{2, 1, 1, 2, -2, 5, 7, 11, 3, 7, 1}
	opts := []Option{Height(4), Offset(3)}

	for i := 0; i < b.N; i++ {
		Plot(data, opts...)
	}
}

func BenchmarkPlotMany(b *testing.B) {
	data1 := []float64{2, 1, 1, 2, -2, 5, 7, 11, 3, 7, 1}
	data2 := []float64{5, 3, 2, 7, 1, -2, 9, 4, 3, 2, 1}
	opts := []Option{Height(4), Offset(3)}
	datasets := [][]float64{data1, data2}

	for i := 0; i < b.N; i++ {
		PlotMany(datasets, opts...)
	}
}
